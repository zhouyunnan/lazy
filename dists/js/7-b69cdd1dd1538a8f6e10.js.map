{"version":3,"sources":["webpack:///./src/views/Shezhi/biaodan.vue?e5c1","webpack:///./src/views/Shezhi/biaodan.vue?78e6","webpack:///./src/views/Shezhi/biaodan.vue?6a4c","webpack:///src/views/Shezhi/biaodan.vue","webpack:///./src/views/Shezhi/biaodan.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","data","moduleContent","size","type","prop","label","align","scopedSlots","_u","key","fn","scope","placeholder","model","value","sele","callback","$$v","expression","_l","options","item","id","icon","on","click","$event","dele","row","add","changebtn","_withStripped","created","find","components","Sortable","mounted","onEnd","self","splice","newIndex","targetRow","watch","val","n","push","methods","$http","op","index","length","component","__file"],"mappings":"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","file":"js/7-b69cdd1dd1538a8f6e10.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./biaodan.vue?vue&type=style&index=0&id=dff5489c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./biaodan.vue?vue&type=style&index=0&id=dff5489c&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"div\", { staticClass: \"page_name\" }, [_vm._v(\"表单设置\")]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"page_msg\" }, [\n        _vm._v(\"自定义小程序用户下单页面,可拖拽排序,\")\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"el-table\",\n        {\n          staticStyle: { width: \"100%\" },\n          attrs: { \"row-key\": \"id\", data: _vm.moduleContent, size: \"medium\" }\n        },\n        [\n          _c(\"el-table-column\", { attrs: { type: \"index\", width: \"50\" } }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"name\", label: \"表单名称\", width: \"180\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { \"header-align\": \"right\", align: \"right\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"header\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-select\",\n                      {\n                        attrs: {\n                          placeholder: \"选择字段\",\n                          size: \"small\",\n                          \"value-key\": \"id\"\n                        },\n                        model: {\n                          value: _vm.sele,\n                          callback: function($$v) {\n                            _vm.sele = $$v\n                          },\n                          expression: \"sele\"\n                        }\n                      },\n                      _vm._l(_vm.options, function(item) {\n                        return _c(\"el-option\", {\n                          key: item.id,\n                          attrs: { label: item.label, value: item.value }\n                        })\n                      }),\n                      1\n                    )\n                  ]\n                }\n              },\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        staticClass: \"qudiao\",\n                        attrs: {\n                          type: \"text\",\n                          icon: \"el-icon-delete\",\n                          size: \"small\"\n                        },\n                        on: {\n                          click: function($event) {\n                            return _vm.dele(scope.row)\n                          }\n                        }\n                      },\n                      [_vm._v(\"去掉\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"timebtn\" },\n        [\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\" },\n              on: {\n                click: function($event) {\n                  return _vm.add()\n                }\n              }\n            },\n            [_vm._v(\"保存设置\")]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\" },\n              on: {\n                click: function($event) {\n                  return _vm.changebtn()\n                }\n              }\n            },\n            [_vm._v(\"显示预览\")]\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./biaodan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--4!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./biaodan.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div class=\"page_name\">表单设置</div>\n    <div class=\"page_msg\">自定义小程序用户下单页面,可拖拽排序,</div>\n    <el-table row-key=\"id\" :data=\"moduleContent\" style=\"width: 100%\" size=\"medium\">\n      <el-table-column type=\"index\" width=\"50\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"表单名称\" width=\"180\"></el-table-column>\n      <el-table-column header-align=\"right\" align=\"right\">\n        <template slot=\"header\" slot-scope=\"scope\">\n          <el-select v-model=\"sele\" placeholder=\"选择字段\" size=\"small\" value-key=\"id\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.id\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </template>\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            class=\"qudiao\"\n            icon=\"el-icon-delete\"\n            size=\"small\"\n            @click=\"dele(scope.row)\"\n          >去掉</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"timebtn\">\n      <el-button type=\"primary\" @click=\"add()\">保存设置</el-button>\n      <el-button type=\"primary\" @click=\"changebtn()\">显示预览</el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport Sortable from \"sortablejs\";\nexport default {\n  created() {\n    this.find();\n  },\n  data() {\n    return {\n      moduleContent: [],\n      options: [\n        {\n          value: {\n            val: \"quhuohao\",\n            name: \"取货号\",\n            id: 1\n          },\n          label: \"取货号\"\n        },\n        {\n          value: {\n            val: \"kuaidigongsi\",\n            name: \"快递公司\",\n            id: 2\n          },\n          label: \"快递公司\"\n        },\n        {\n          value: {\n            val: \"shangloufuwu\",\n            name: \"上楼服务\",\n            id: 3\n          },\n          label: \"上楼服务\"\n        },\n        {\n          value: {\n            val: \"kuaididaxiao\",\n            name: \"快递大小\",\n            id: 4\n          },\n          label: \"快递大小\"\n        },\n        {\n          value: {\n            val: \"tebiebeizhu\",\n            name: \"特别备注\",\n            id: 5\n          },\n          label: \"特别备注\"\n        },\n        {\n          value: {\n            val: \"quhuodidian\",\n            name: \"取货地点\",\n            id: 6\n          },\n          label: \"取货地点\"\n        },\n        {\n          value: {\n            val: \"huowumingcheng\",\n            name: \"货物名称\",\n            id: 7\n          },\n          label: \"货物名称\"\n        },\n        {\n          value: {\n            val: \"qujianshijian\",\n            name: \"取货时间\",\n            id: 8\n          },\n          label: \"取货时间\"\n        },\n        {\n          value: {\n            val: \"songdashijian\",\n            name: \"期望送达时间\",\n            id: 9\n          },\n          label: \"期望送达时间\"\n        }\n      ],\n      sele: \"\"\n    };\n  },\n  components: {\n    Sortable\n  },\n  mounted() {\n    // 表格拖拽事件的添加\n    const el = document.querySelectorAll(\n      \".el-table__body-wrapper > table > tbody\"\n    )[0];\n    let self = this;\n    Sortable.create(el, {\n      // 拖拽结束后的操作\n      onEnd({ newIndex, oldIndex }) {\n        // 修改data中的数组，\n        const targetRow = self.moduleContent.splice(oldIndex, 1)[0];\n        self.moduleContent.splice(newIndex, 0, targetRow);\n      }\n    });\n  },\n  watch: {\n    moduleContent() {},\n    sele() {\n      let n = this.sele;\n      let moduleContent = this.moduleContent;\n      let index = moduleContent.findIndex(function(val) {\n        if (val.val == n.val) {\n          return true;\n        }\n      });\n      if (index != -1) {\n        return;\n      } else {\n        this.moduleContent.push(n);\n      }\n    }\n  },\n  methods: {\n    find() {\n      this.$http\n        .post(\n          \"/index.php/home/Biaodan/find\",\n          this.$qs.stringify({\n          })\n        )\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            this.moduleContent = res.lists\n          }\n        })\n        .catch(() => {\n        \n        });\n    },\n    dele(op) {\n      let moduleContent = this.moduleContent;\n      let index = moduleContent.findIndex(function(val) {\n        if (val.val == op.val) {\n          return true;\n        }\n      });\n      this.moduleContent.splice(index, 1);\n    },\n    add() {\n      if (this.moduleContent.length < 1) {\n        return;\n      }\n      this.$http\n        .post(\n          \"/index.php/home/Biaodan/addbd\",\n          this.$qs.stringify({\n            data: JSON.stringify(this.moduleContent)\n          })\n        )\n        .then(response => {\n          let res = response.data;\n          if (res.result) {\n            this.$notify({\n              title: \"成功\",\n              message: \"保存成功\",\n              type: \"success\"\n            });\n          } else {\n            this.$notify.error({\n              title: \"警告\",\n              message: res.msg\n            });\n          }\n        })\n        .catch(() => {\n          this.$notify.error({\n            title: \"警告\",\n            message: \"网络错误\"\n          });\n        });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.qudiao {\n  margin-right: 15px;\n}\n.timebtn {\n  padding: 20px 0px 40px 20px;\n  height: 30px;\n  button {\n    float: right;\n    margin-left: 20px;\n  }\n}\n</style>","import { render, staticRenderFns } from \"./biaodan.vue?vue&type=template&id=dff5489c&scoped=true&\"\nimport script from \"./biaodan.vue?vue&type=script&lang=js&\"\nexport * from \"./biaodan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./biaodan.vue?vue&type=style&index=0&id=dff5489c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dff5489c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\杨杨\\\\Desktop\\\\lazy-master\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('dff5489c')) {\n      api.createRecord('dff5489c', component.options)\n    } else {\n      api.reload('dff5489c', component.options)\n    }\n    module.hot.accept(\"./biaodan.vue?vue&type=template&id=dff5489c&scoped=true&\", function () {\n      api.rerender('dff5489c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/Shezhi/biaodan.vue\"\nexport default component.exports"],"sourceRoot":""}